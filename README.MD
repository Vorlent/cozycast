Clone this repository:

```
git clone https://github.com/Vorlent/cozycast.git
```

Install Docker.

Arch Example:

```
sudo pacman -S docker docker-compose
sudo systemctl enable docker.socket
sudo systemctl start docker.socket
```

See https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/ for ubuntu instructions.

Create the .env file:

```
export PUBLIC_IP=$(curl ifconfig.me)
export PRIVATE_IP=<private_ip>

export TURN_IP=$PUBLIC_IP
export KURENTO_IP=$PRIVATE_IP
export COZYCAST_IP=$PRIVATE_IP

export SOURCE_URL=<url>

export COZYCAST_DB_HOST=postgres
export NETWORK_INTERFACES=eth0
```

Optional but recommended for https:

```
export MICRONAUT_ENVIRONMENTS=ssl
export DUCKDNS_TOKEN=<token to set txt record>
export DUCKDNS_DOMAIN=<duck dns domain>
export KEYSTORE_PASSWORD=<arbitrary_secret_value>
export FORCE_HTTPS=true
```


`TURN_SECRET`, `COZYCAST_DB_PASS`, `COZYCAST_JWT_SECRET`, `COZYCAST_INIT_ADMIN_PASSWORD` are now stored and autogenerated in data, make sure the directory is writeable/readable.

If you have made modifications to the source code then it is recommended to set SOURCE_URL to point to the modified source code (e.g. git/github repository or downloadable zip file) to ensure compliance with the AGPL. If you have not made any modifications then you can simply set it to https://github.com/Vorlent/cozycast.

# Start cozycast

```
./cozycast build
./cozycast start
./cozycast stop
```

# Start cozycast-server for development

```
source .env
./cozycast dev
```
